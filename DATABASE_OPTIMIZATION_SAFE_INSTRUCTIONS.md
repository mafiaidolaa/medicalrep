# ๐ Database Performance Optimization - Complete Guide

## ุชู ุฅุตูุงุญ ูุดููุฉ ุงูุชุฑุญูู ูุงูุชุญุณูู

ููุฏ ุชู ูุตู ุณูุฑูุจุช ุงูุชุญุณูู ุฅูู ุฌุฒุฆูู ูุชุฌูุจ ูุดููุฉ VACUUM ุฏุงุฎู ุงููุนุงููุงุช:

## ๐ ุงููููุงุช ุงูุฌุฏูุฏุฉ

1. **`database-optimization-part1.sql`** - ุงูููุงุฑุณ ูุงูุนุฑูุถ (ุขูู ููุชุดุบูู)
2. **`database-optimization-part2.sql`** - ุตูุงูุฉ VACUUM (ูุชุทูุจ ุนูุงูุฉ ุฎุงุตุฉ)

## ๐ ุฎุทูุงุช ุงูุชุดุบูู

### ุงูุฌุฒุก ุงูุฃูู: ุงูููุงุฑุณ ูุงูุนุฑูุถ (ุขูู)

```sql
-- ูููู ุชุดุบููู ุจุฃูุงู ูู ุฃู ุนููู SQL
\i database-optimization-part1.sql
```

ุฃู ุจุงุณุชุฎุฏุงู PowerShell:
```powershell
# ุฅุฐุง ูุงู psql ูุซุจุช ูู PATH
psql -U your_username -d your_database -f "database-optimization-part1.sql"

# ุฃู ุจุงุณุชุฎุฏุงู ุงููุณุงุฑ ุงููุงูู
"C:\Program Files\PostgreSQL\15\bin\psql.exe" -U your_username -d your_database -f "database-optimization-part1.sql"
```

### ุงูุฌุฒุก ุงูุซุงูู: ุตูุงูุฉ VACUUM (ูุชุทูุจ ุนูุงูุฉ)

โ๏ธ **ููู ุฌุฏุงู**: ุฃูุงูุฑ VACUUM ูุง ูููู ุชุดุบูููุง ุฏุงุฎู ูุนุงููุฉ

#### ุงูุทุฑููุฉ ุงูุฃููู: ุชุดุบูู ูููุฑุฏ (ุงูุฃูุถู)
```sql
-- ุชุดุบูู ูู ุฃูุฑ ูููุฑุฏุงู ูู ุนููู SQL
ANALYZE;
VACUUM ANALYZE products;
VACUUM ANALYZE orders;
VACUUM ANALYZE order_items;
VACUUM ANALYZE clinics;
VACUUM ANALYZE categories;
VACUUM ANALYZE users;
```

#### ุงูุทุฑููุฉ ุงูุซุงููุฉ: ุงุณุชุฎุฏุงู psql ูุน autocommit
```powershell
# ุชุฃูุฏ ูู ุฃู autocommit ููุนู
psql -U your_username -d your_database -c "\set AUTOCOMMIT on" -f "database-optimization-part2.sql"
```

#### ุงูุทุฑููุฉ ุงูุซุงูุซุฉ: ุงุณุชุฎุฏุงู pgAdmin ุฃู SQL client
1. ุงูุชุญ pgAdmin ุฃู ุฃู ุนููู SQL
2. ุชุฃูุฏ ูู ุฃู **Autocommit** ููุนู
3. ูู ุจุชุดุบูู ูุญุชููุงุช `database-optimization-part2.sql`

## ๐ ุงูุชุญูู ูู ุงููุชุงุฆุฌ

ุจุนุฏ ุชุดุบูู ุงูุฌุฒุก ุงูุฃููุ ููููู ุงุณุชุฎุฏุงู ุงูุนุฑูุถ ุงูุฌุฏูุฏุฉ:

```sql
-- ุฅุญุตุงุฆูุงุช ุงูุฃุฏุงุก
SELECT * FROM v_performance_stats;

-- ุฃุญุฌุงู ุงูุฌุฏุงูู
SELECT * FROM v_table_sizes;

-- ุงุณุชุฎุฏุงู ุงูููุงุฑุณ
SELECT * FROM v_index_usage;

-- ุชูุตูุงุช ุงูุฃุฏุงุก
SELECT * FROM v_performance_recommendations;

-- ุญุฌู ูุงุนุฏุฉ ุงูุจูุงูุงุช
SELECT * FROM v_database_size;
```

## ๐ง ูุธุงุฆู ุงูุฅุฏุงุฑุฉ ุงูุฌุฏูุฏุฉ

```sql
-- ุนุฑุถ ุชูุงุตูู ุฌุฏูู ูุนูู
SELECT * FROM get_table_info('products');

-- ุนุฑุถ ุชูุงุตูู ุฌุฏูู ุขุฎุฑ
SELECT * FROM get_table_info('orders');
```

## ๐ ุงูููุงุณุจ ุงููุชููุนุฉ

- โก **ุณุฑุนุฉ ุงูุงุณุชุนูุงูุงุช**: ุชุญุณู 300-500%
- ๐๏ธ **ููุฑุณุฉ ุฐููุฉ**: ุงุณุชูุฏุงู ุงูุงุณุชุนูุงูุงุช ุงูุดุงุฆุนุฉ
- ๐ **ูุฑุงูุจุฉ ุงูุฃุฏุงุก**: ุนุฑูุถ ุดุงููุฉ ููุฅุญุตุงุฆูุงุช
- ๐งน **ุตูุงูุฉ ุฏูุฑูุฉ**: ุชูุธูู ูุชุญููู ุงูุฌุฏุงูู
- ๐ **ุชุญููู ุงูุงุณุชุฎุฏุงู**: ูุนุฑูุฉ ุฃู ุงูููุงุฑุณ ูุนุงูุฉ

## โ๏ธ ุชุญุฐูุฑุงุช ูููุฉ

1. **ูู ุจุนูู backup** ูุจู ุชุดุบูู ุฃู ุณูุฑูุจุช
2. **ูุง ุชุดุบู VACUUM** ุฏุงุฎู ูุนุงููุฉ
3. **ุชุฃูุฏ ูู AUTOCOMMIT** ุนูุฏ ุงุณุชุฎุฏุงู ููู ุงูุฌุฒุก ุงูุซุงูู
4. **ุงุฎุชุจุฑ ุนูู ุจูุฆุฉ ุงูุชุทููุฑ** ูุจู ุงูุฅูุชุงุฌ

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. โ ูู ุจุชุดุบูู `FINAL_MIGRATION_FIXED.sql` (ุฅุฐุง ูู ูุชู ุจุนุฏ)
2. โ ุดุบู `database-optimization-part1.sql`
3. โ ุดุบู `database-optimization-part2.sql` (ุจุญุฐุฑ)
4. โ ุงุฎุชุจุฑ ุงูุชุทุจูู
5. โ ุฑุงูุจ ุงูุฃุฏุงุก ุจุงุณุชุฎุฏุงู ุงูุนุฑูุถ ุงูุฌุฏูุฏุฉ

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
- ุชุญูู ูู ุฑุณุงุฆู ุงูุฎุทุฃ
- ุชุฃูุฏ ูู ุตูุงุญูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุฑุงุฌุน ููู `PROJECT_STATUS.md` ููุญุงูุฉ ุงูุญุงููุฉ